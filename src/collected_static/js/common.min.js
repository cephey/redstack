function AngForm(a,b,c,d){this.fields=function(a){var b={};for(var c in a)b[a[c]]="";return b}(b),this.success={message:!1,get:function(){return this.message},set:function(a){this.message=a||!1},clear:function(){this.set()}},this.loader=Loader.create(a),this.errors=function(a,b){var c={__all__:!1,show:function(a){if(a)for(var b in a)this[b]=a[b];else this.__all__=["Ошибка сервера"]},clear:function(){b.clear();for(var a in this)"function"!=typeof this[a]&&(this[a]=!1)}};for(var d in a)c[a[d]]=!1;return c}(b,this.success),this.submit=function(a){var b=this.errors,e=this.success,f=this.loader;this.errors.clear(),this.loader.show(),d.defaults.headers.post["X-CSRFToken"]=Cookie.getCookie("csrftoken"),d.post(a,$.param(this.fields)).success(function(a){a.success===!0?void 0===c?e.set(a.message):c(a):b.show(a.errors)}).error(function(){b.show()}).finally(function(){f.hide()})}}var Cookie=function(){var a=function(a){var b=document.cookie.match(new RegExp("(?:^|; )"+a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return b?decodeURIComponent(b[1]):void 0};return{getCookie:a}}();!function(a,b){a.Loader=b()}(this,function(){"use strict";return{create:function(a){return function(){var b,c="btn-submit-"+a,d=function(){b=Ladda.create(document.querySelector("."+c)),b.start()},e=function(){b.stop()};return{selector:c,show:d,hide:e}}()}}});