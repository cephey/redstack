angular.module("PatternApp",["UserApp"]),angular.module("PatternApp").config(["$interpolateProvider","$httpProvider",function(a,b){a.startSymbol("[%"),a.endSymbol("%]"),b.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",b.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}]),angular.module("PatternApp").controller("PatternFormCtrl",["$scope","$http","NameGenerator","ImageState","UserHandler","PatternHandler",function(a,b,c,d,e,f){a.formData={},a.generate_name=function(){a.formData.site_name=c.generate_site_name()},a.img_count=3,a.blurs=d.get_blurs(a.img_count),a.active=d.active,a.deactive=d.deactive,a.set_img=function(b){d.set_img(),a.formData.site_template=b},a.submit=function(b){e.is_auth().then(function(c){c===!0?f.send_pattern_form(b,a.formData):e.login(function(){f.send_pattern_form(b,a.formData)})})}}]),angular.module("PatternApp").factory("NameGenerator",function(){var a=["aqua","gray","navy","silver","black","green","olive","teal","blue","lime","purple","white","fuchsia","maroon","red","yellow"],b=a.length,c=["car","house","sky","sun","tree","road","pen","water","paper","book","ship"],d=c.length,e=function(){var e=Math.floor(Math.random()*b),f=a[e],g=Math.floor(Math.random()*d),h=c[g],i=Math.floor(1e3*Math.random());return f+"-"+h+"-"+i};return{generate_site_name:e}}),angular.module("PatternApp").factory("ImageState",function(){var a,b,c=function(a,b){for(var c=new Array(a),d=0;a>d;d++)c[d]=b(d);return c},d="",e="blur",f=function(d){return b=c(d,function(){return""}),a=c(d,function(){return 1}),b},g=function(){a.forEach(function(a,c){b[c]={1:d,2:e,4:d,5:e,6:d}[a]})},h=function(b){a.forEach(function(c,d){a[d]={1:d===b?1:2,4:4,5:d===b?6:5}[c]}),g()},i=function(){a.forEach(function(b,c){a[c]={1:1,2:1,4:4,5:5,6:5}[b]}),g()},j=function(){a.forEach(function(b,c){a[c]={1:4,2:5,4:5,5:5,6:4}[b]}),g()};return{get_blurs:f,active:h,deactive:i,set_img:j}}),angular.module("PatternApp").factory("PatternHandler",["$http",function(a){var b=function(b,c){var d=Ladda.create(document.querySelector(".btn-submit-pattern"));d.start(),a.defaults.headers.post["X-CSRFToken"]=Cookie.getCookie("csrftoken"),a.post(b,$.param(c)).success(function(a){console.log(a)}).error(function(a){console.log(a)}).then(function(){d.stop()})};return{send_pattern_form:b}}]);